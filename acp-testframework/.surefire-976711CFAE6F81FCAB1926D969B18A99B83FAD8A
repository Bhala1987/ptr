1,0,Then I will generate a make payment request to the payment service(| *LO | *PA | Digital | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,Given I am using the channel PublicApiMobile(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,Given I have added the flight with Standard bundle to the basket(| Standard | 1 |)
1,0,But from-search-results is false(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,When I trigger the recalculatePrices service(| PublicApiB2B | seat |)
1,0,And the customer is logged in(Scenario: 1 - Retrieve Saved Passenger)
1,0,And I will update the total price of the basket less the discount(| Digital |)
1,0,Given am using channel ADAirport(Scenario: Happy path - add more than one SSR to customer)
1,0,Then I will add the extras cabin bag to the new passenger with Standard on Digital(| Digital | outbound | Standard | adult |)
1,0,Given there are active countries in the database(Scenario: There are countries)
1,0,Given I am using the channel ADCustomerService(| ADCustomerService | 2,1 adult; 2,1 child; 2,1 infant |)
1,0,When I get the booking(| ADAirport | PASSENGER | Test comment entered |)
1,0,And passenger has the respective bundle code(| Digital | is |)
1,0,Then I update the customer profile(Scenario: eJ Plus Membership Number validation for non-Staff)
1,0,Given I sent a request to FindFlight to "ADAirport"(| ADAirport |)
1,0,Scenario: Public API B2B commit booking with a seat in the basket
1,0,Given my basket contains flight with passengerMix "1 Adult" added via "Digital"(| Digital |)
1,0,| ADAirport |
1,0,Scenario: getAdvancePassengerInformation – Return saved APIS BR_00146 past X=16 months
1,0,Given I have added a passenger to an existing customer(Scenario: All the validation rules passes successfully for saved passenger)
1,0,And all the calculation in the getFlights response are right(| ADCustomerService | 2,1 adult; 2,1 child; 2,1 infant |)
1,0,Given that I have received a valid update Dependents eJPlus request for customer "cus00000001" and dependant "345678" with ejPlus number "S004444"(Scenario: Successful Update Dependent eJPlus request)
1,0,Given I am using channel Digital(Scenario: Search for direct flights for infant on own seat)
1,0,Given I have found a flight and added to basket for 4 adult, 2 child, 3 infant OOS, 1 infant OL and Digital(| Digital | 4 adult, 2 child, 3 infant OOS, 1 infant OL |)
1,0,And I receive a successful response from PSP and continue with commit booking process(| *LO | *PA | Digital | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,And I searched a flight for 2 adult; 2 child; 2,1 infant(| Digital | 2 adult; 2 child; 2,1 infant |)
1,0,And I will verify the new flight totals price(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Then I receive dependant update confirmation(Scenario: Successful Update Dependent eJPlus request)
1,0,And I want to proceed with add purchased seat "EXTRA_LEGROOM"(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I have basket content with seats(| PublicApiB2B | seat |)
1,0,Given that I have added a flight "*LO" to "*PA" to the basket with currency GBP from PublicApiMobile(| *LO | *PA | PublicApiMobile | card | GBP | MC-5555444433331111-737-8-2018-Testing card |)
1,0,Then I will receive the successful response(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Then a booking reference is returned(| Digital | is |)
1,0,When I update my full customer preferences(| Digital | full |)
1,0,Given I am using channel PublicApiB2B(| PublicApiB2B | Flexi |)
1,0,When I call the get airports service(Scenario: Airports that are marked as being active are returned)
1,0,And the seat map Flight Key should be correct(| Digital |)
1,0,When I search for the profile using partial "firstname,lastname"(Scenario: Search request can be sent using partial data)
1,0,And I intend to update my profile with a valid non-Staff EJPlus number(Scenario: eJ Plus Membership Number validation for non-Staff)
1,0,Then I will return all the active sectors to the channel(| PublicApiMobile |)
1,0,Then I will generate a make payment request to the payment service(| ALC | LTN | ADCustomerService | card | GBP | VI-4212345678901237-737-8-2018-Testing card |)
1,0,And I added it to the basket with Standard fare as outbound/inbound journey(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,Then all the calculation in the basket are right(| ADCustomerService | 2,1 adult; 2,1 child; 2,1 infant |)
1,0,| ALC | LTN | ADCustomerService | card | GBP | VI-4212345678901237-737-8-2018-Testing card |
1,0,And the booking has details of respective Hold Bag,Large Sporting Equipment,Excess Weight(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,Given I am using the channel Digital(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,Scenario: Search for direct flights for infant on own seat
1,0,| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |
1,0,Scenario: Search request can be sent using partial data
1,0,When I do the commit booking(| Digital | is |)
1,0,Then I will return all the active sectors to the channel(| PublicApiB2B |)
1,0,| ADCustomerService | LGWALC |
1,0,Then I should receive amendable basket(| Digital |)
1,0,When I call the get countries service(Scenario: There are countries)
1,0,And I have basket content with seats(Scenario: Public API B2B commit booking with a seat in the basket)
1,0,When I do commit booking with card and VI-4212345678901237-737-8-2018-Testing card(| ALC | LTN | ADCustomerService | card | GBP | VI-4212345678901237-737-8-2018-Testing card |)
1,0,And order is created from cart(| ADAirport | is |)
1,0,And I will verify the new passenger totals price(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |
1,0,Then I will return an updated basket(| ADAirport |)
1,0,When I create a request to retrieve available fare types(Scenario: Receive request to retrieve fare type description)
1,0,Then I will add the extras cabin bag to the new passenger with Flexi on PublicApiMobile(| PublicApiMobile | outbound | Flexi | adult |)
1,0,Given that I am using channel: PublicApiMobile(| PublicApiMobile |)
1,0,When I call the get passenger types service(Scenario: All passenger types can be returned)
1,0,When I call the getSectors service for the PublicApiB2B(| PublicApiB2B |)
1,0,Then I will get the saved passenger for the customer to the channel(Scenario: 1 - Retrieve Saved Passenger)
1,0,And I have created a new customer(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,| ADAirport | is |
1,0,Then I receive the flight schedules for the chosen day(| PublicApiMobile |)
1,0,And I receive a successful response from PSP and continue with commit booking process(| ALC | LTN | ADCustomerService | card | GBP | VI-4212345678901237-737-8-2018-Testing card |)
1,0,Given I am using the channel Digital(| Digital | outbound | Standard | adult |)
1,0,When I send the move seat product request(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I make a request to add an available "EXTRA_LEGROOM" seat product for each passenger(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,| Digital | outbound | Standard | adult |
1,0,Then all the active airports are returned(Scenario: Airports that are marked as being active are returned)
1,0,When I make a request to retrieve seating plan and priced inventory(| Digital |)
1,0,Given there are valid bookings using channel "ADCustomerService" and passenger mix "1 Adult"(| ADCustomerService | travelfromdate | 1 Adult |)
1,0,And I added it to the basket with Standard fare as outbound/inbound journey(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,And the updated values will be returned when retrieving the customer profile(| Digital | full |)
1,0,| *LO | *PA | PublicApiMobile | card | GBP | MC-5555444433331111-737-8-2018-Testing card |
1,0,When I request an amendable basket for a booking(| Digital |)
1,0,| Digital |
1,0,Given that I have retrieved all the available fare types with descriptions and options(Scenario: Receive request to retrieve fare type description)
1,0,Then I will return all the active sectors to the channel(| ADCustomerService |)
1,0,And I will verify any associated products with the new purchased seat has been added with "1" product(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I searched a 'Standard' flight with return for 1 adult; 1 child; 2,1 infant(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,Given I have APIs stored for a customer for less than 16 months(Scenario: getAdvancePassengerInformation – Return saved APIS BR_00146 past X=16 months)
1,0,Then I will return a list of active SSR for the requesting channel and sectors(| ADCustomerService | LGWALC |)
1,0,And the seat map Currency should be correct(| ADAirport |)
1,0,Given my basket contains "1 Adult, 1 Infant OOS" added via "Digital"(| 1 Adult, 1 Infant OOS | Infant | Adult | Digital |)
1,0,When I select SSR(| ADCustomerService | LGWALC |)
1,0,Given my basket contains flight with passengerMix "1 Adult" added via "ADAirport"(| ADAirport |)
1,0,And I add product Hold Bag with 1 excess weight to all passengers(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,| PublicApiB2B | Flexi |
1,0,Then all the calculation in the basket are right(| Digital | 2 adult; 2 child; 2,1 infant |)
1,0,When I request for APIs for that customer(Scenario: getAdvancePassengerInformation – Return saved APIS BR_00146 past X=16 months)
1,0,Given a customer profile exists(Scenario: Profile exists and is returned)
1,0,And the channel has initiated a price override(| Digital |)
1,0,Then I should receive the seat map(| ADAirport |)
1,0,When I search for the booking using "travelfromdate, traveltodate" of customer using channel "ADAirport"(| ADAirport | travelfromdate, traveltodate | 1 Adult |)
1,0,| Standard | 1 |
1,0,Given I create a new valid customer(Scenario: eJ Plus Membership Number validation for non-Staff)
1,0,| ALC | LTN | PublicApiB2B | elv | EUR | tester-1234567890- -12345678- -Barclays |
1,0,Then the customer profile is returned(Scenario: Search request can be sent using partial data)
1,0,And a valid customer profile has been created(| Digital | full |)
1,0,Given I have a basket with a valid flight with 1 adult added via ADAirport(| ADAirport | is |)
1,0,And I search for flight with following details via PublicApiMobile(| PublicApiMobile | outbound | Flexi | adult |)
1,0,Then I will set the final offer price as the price difference between the two bands(| ADAirport | Flexi |)
1,0,Given I am using the channel Digital(| Digital | 2 adult; 2 child; 2,1 infant |)
1,0,When I send the request to removeFlight()(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,When I make a request to retrieve seating plan and priced inventory for PublicAPI using bundle:Flexi(| PublicApiB2B | Flexi |)
1,0,| ADAirport | Flexi |
1,0,And passenger details are created with status as Booked(| ADAirport | is |)
1,0,And the admin fee will be apportioned among the passenger of the 'inbound' flight(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,When I add the flight to my basket via the Digital(| Digital |)
1,0,And I add product Large Sporting Equipment to all passenger on all flights(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,Given I am using the channel PublicApiMobile(Scenario: Request returns all contact method options)
1,0,Given there are passenger types(Scenario: All passenger types can be returned)
1,0,And passenger details are created with status as Booked(| Digital | is |)
1,0,And I will verify any associated products with the old purchased seat has been removed(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I added it to the basket with Flexi fare as outbound journey(| ADCustomerService | outbound | Flexi | adult |)
1,0,Given there are active sectors in the database(| ADAirport |)
1,0,And I want to remove the 'outbound' flight(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,Given I found a deal with Valid, Valid, Valid(| PublicApiB2B | Valid | Valid | Valid |)
1,0,And I will verify the successfully response(Scenario: All the validation rules passes successfully for saved passenger)
1,0,And I am requesting to change a purchased seat for "1 Adult" from "STANDARD" to "EXTRA_LEGROOM" with fare type "Standard"(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Given my basket contains flight with passengerMix "1 Adult" added via "Digital"(| 1 Adult | Digital |)
1,0,And I will verify the new basket totals(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Scenario: 1 - Retrieve Saved Passenger
1,0,When I make a request to retrieve seating plan and priced inventory(| ADAirport |)
1,0,And the request respect the restriction of the BR(Scenario: All the validation rules passes successfully for saved passenger)
1,0,When I retrieve the customer profile(Scenario: updated information is returned when the profile is retrieved again)
1,0,Then a profile is returned(Scenario: Profile exists and is returned)
1,0,Given I have access to SSR for "ADCustomerService" for the channel(| ADCustomerService | LGWALC |)
1,0,Then a booking reference is returned(Scenario: Public API B2B commit booking with a seat in the basket)
1,0,Given I am using the channel ADCustomerService(| ADCustomerService | outbound | Flexi | adult |)
1,0,Scenario: All passenger types can be returned
1,0,When I send a request to the update customer service(Scenario: eJ Plus Membership Number validation for non-Staff)
1,0,Then I will get the description as part of the response(Scenario: Receive request to retrieve fare type description)
1,0,Scenario: Happy path - add more than one SSR to customer
1,0,When I make a request to add an available "STANDARD" seat product(| Digital |)
1,0,And I want to proceed with add purchased seat "EXTRA_LEGROOM"(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,When I receive the request to apply the discount to the basket(| Digital |)
1,0,When I send a request to associate adult to infant on lap(| PublicApiMobile | outbound | Flexi | adult |)
1,0,Given there are active airports(Scenario: Airports that are marked as being active are returned)
1,0,Then there are countries returned(Scenario: There are countries)
1,0,When I call the get languages service(Scenario: Active languages are returned)
1,0,When I do commit booking with elv and tester-1234567890- -12345678- -Barclays(| *LO | *PA | Digital | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,Scenario: Profile exists and is returned
1,0,| Digital | STANDARD_CUSTOMER | debit | 3 | debit-DM-5573471234567898-123-8-2018-Testing card;debit-DM-5573471234567898-123-8-2018-Testing card;debit-DL-4400000000000008-737-8-2018-Testing card |
1,0,Then I will store the Saved passenger details(Scenario: All the validation rules passes successfully for saved passenger)
1,0,Then I should receive a confirmation response(Scenario: All the validation rules passes successfully)
1,0,Given I have found a valid flight via the Digital(| Digital |)
1,0,| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |
1,0,Then I will recalculate passenger totals, flight totals and basket totals(| Digital |)
1,0,| 1 Adult | Digital |
1,0,And the base price and associated taxes are the same in the basket(| Digital |)
1,0,And order is created from cart(| Digital | is |)
1,0,Then the passenger types are returned(Scenario: All passenger types can be returned)
1,0,| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |
1,0,And I will verify the new passenger totals price(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,| PublicApiB2B | seat |
1,0,Given I call the flight search with "1 Adult, 1 Infant OOS"(Scenario: Search for direct flights for infant on own seat)
1,0,When I receive the updateSavedPassengers request to remove all identity documents of the saved passenger(| Digital | 2 |)
1,0,Then the booking has been created(| Digital | STANDARD_CUSTOMER | debit | 3 | debit-DM-5573471234567898-123-8-2018-Testing card;debit-DM-5573471234567898-123-8-2018-Testing card;debit-DL-4400000000000008-737-8-2018-Testing card |)
1,0,When I process the request for updateSavedPassenger(Scenario: All the validation rules passes successfully for saved passenger)
1,0,And I should see total discounts for flight search(| PublicApiB2B | Valid | Valid | Valid |)
1,0,Scenario: Receive request to retrieve fare type description
1,0,Given I have in my basket a direct flight with different passenger mix "1 Adult, 1 Child, 1 Infant OL" using channel "Digital"(| Digital |)
1,0,When I do commit booking for given basket(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,| 1 Adult, 1 Child |
1,0,When I do commit booking with elv and tester-1234567890- -12345678- -Barclays(| ALC | LTN | PublicApiB2B | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,When I call the getSectors service for the ADCustomerService(| ADCustomerService |)
1,0,Given I am using channel Digital(Scenario: eJ Plus Membership Number validation for non-Staff)
1,0,Given there are active sectors in the database(| ADCustomerService |)
1,0,And I should see discounts for flight search(| PublicApiB2B | Valid | Valid | Valid |)
1,0,And that I have registered a new user(Scenario: All the validation rules passes successfully)
1,0,And I have received a valid addComments request for type "PASSENGER" with comment "Test comment entered"(| ADAirport | PASSENGER | Test comment entered |)
1,0,Given I am using the channel PublicApiB2B(| PublicApiB2B | seat |)
1,0,And I will associate the additional seat with the respective passenger(| ADAirport |)
1,0,And the seating band is higher than the bundle seat(| ADAirport | Flexi |)
1,0,| ADCustomerService | 2,1 adult; 2,1 child; 2,1 infant |
1,0,And I will verify the new seating configuration of passenger with applied discount "false"(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I added it to the basket with Standard fare as outbound journey(| Digital | outbound | Standard | adult |)
1,0,And I added it to the basket with Flexi fare as outbound journey(| PublicApiMobile | outbound | Flexi | adult |)
1,0,When I call the find flights service with deal headers Valid, Valid, Valid via PublicApiB2B(| PublicApiB2B | Valid | Valid | Valid |)
1,0,Then I will add a discount line including the discount reason for the requested amount(| Digital |)
1,0,Then I will see 1 Cabin bags under the Standard bundle in the basket(| Standard | 1 |)
1,0,Scenario: Active languages are returned
1,0,Given I am using the channel PublicApiMobile(| PublicApiMobile | outbound | Flexi | adult |)
1,0,Then the base price is returned(| 1 Adult | Digital |)
1,0,And created date time is stored(| ADAirport | is |)
1,0,When I call the get currencies service(Scenario: Active Currencies are returned)
1,0,And the seating band is the same level as the bundle seat(| PublicApiB2B | Flexi |)
1,0,| Digital | is |
1,0,And I will verify the new flight totals price(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Given that I have added a flight "ALC" to "LTN" to the basket with currency EUR from PublicApiB2B(| ALC | LTN | PublicApiB2B | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,Then I should receive the seat map(| Digital |)
1,0,Given "ADAirport" has configured to search for indirect flights(| ADAirport |)
1,0,Given the commit booking is done for the channel "ADAirport" for flight from "LTN" to "ALC"(| ADAirport | PASSENGER | Test comment entered |)
1,0,Scenario: All the validation rules passes successfully
1,0,Given I am using channel Digital(| Digital | STANDARD_CUSTOMER | debit | 3 | debit-DM-5573471234567898-123-8-2018-Testing card;debit-DM-5573471234567898-123-8-2018-Testing card;debit-DL-4400000000000008-737-8-2018-Testing card |)
1,0,And the selected bundle is added to each passenger(| 1 Adult | Digital |)
1,0,Then all the indirect flights are added to my basket(| ADAirport |)
1,0,| 1 Adult, 1 Infant OOS | Infant | Adult | Digital |
1,0,And I want to associate adult to infant on lap(| ADCustomerService | outbound | Flexi | adult |)
1,0,Given I am using channel ADCustomerService(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Then the flight is added to the basket via the Digital(| Digital |)
1,0,Then the flight should be removed from the basket(| Digital | 4 adult, 2 child, 3 infant OOS, 1 infant OL |)
1,0,And I will return the list of departure airport sorted by distance ascending(| LTN | FAO | 100 |)
1,0,Then I will set the final offer price as zero(| PublicApiB2B | Flexi |)
1,0,And I validate and return the result for addComments request(| ADAirport | PASSENGER | Test comment entered |)
1,0,Given I am using channel Digital(Scenario: 1 - Retrieve Saved Passenger)
1,0,And I will verify the new basket totals(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,| Digital | 2 adult; 2 child; 2,1 infant |
1,0,Given I am using channel Digital(| Digital | full |)
1,0,Given I am using channel Digital(| Digital |)
1,0,Then flight is returned(| PublicApiB2B | Valid | Valid | Valid |)
1,0,When I do the booking with valid basket content(Scenario: Public API B2B commit booking with a seat in the basket)
1,0,And I will verify the new seating configuration of passenger with applied discount "false"(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,When I add it to the basket(| ADCustomerService | 2,1 adult; 2,1 child; 2,1 infant |)
1,0,And I create a customer and change their password(Scenario: 1 - Retrieve Saved Passenger)
1,0,| Digital | 4 adult, 2 child, 3 infant OOS, 1 infant OL |
1,0,And the booking has seat details for respective passengers(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,And I have received a valid password reset request(Scenario: Generate a temporary single use token BR_00845)
1,0,And I searched a flight for 2,1 adult; 2,1 child; 2,1 infant(| ADCustomerService | 2,1 adult; 2,1 child; 2,1 infant |)
1,0,And I provide basic passenger details(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,And I want to delete Apis information(| Digital |)
1,0,Given there are active sectors in the database(| Digital |)
1,0,Scenario: Successful Update Dependent eJPlus request
1,0,Given there are active sectors in the database(| PublicApiB2B |)
1,0,Then I do get booking details via Digital(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,| ADAirport | travelfromdate, traveltodate | 1 Adult |
1,0,And I should get the affected data with SVC_100187_2003(| PublicApiB2B | seat |)
1,0,Then It should see the following contact method options(Scenario: Request returns all contact method options)
1,0,Scenario: eJ Plus Membership Number validation for non-Staff
1,0,And I create a "COMPLETED" status booking for "1 Adult, 1 Child, 1 Infant OL"(| Digital |)
1,0,And I should get the notification of seat change in response(| PublicApiB2B | seat |)
1,0,| PublicApiMobile |
1,0,Given there are valid bookings using channel "ADAirport" and passenger mix "1 Adult"(| ADAirport | travelfromdate, traveltodate | 1 Adult |)
1,0,And I search for flight with following details via ADCustomerService(| ADCustomerService | outbound | Flexi | adult |)
1,0,Given I create a Customer(| Digital |)
1,0,| Digital | full |
1,0,And I have received a valid updateSavedPassenger request(Scenario: All the validation rules passes successfully for saved passenger)
1,0,Given I have a Staff customer with a complete Significant Other added(Scenario: updated information is returned when the profile is retrieved again)
1,0,And I want to associate adult to infant on lap(| Digital | outbound | Standard | adult |)
1,0,| PublicApiB2B | Valid | Valid | Valid |
1,0,Then I will return all the active sectors to the channel(| Digital |)
1,0,Given there are active sectors in the database(| PublicApiMobile |)
1,0,And the 'outbound' flight has been removed from the basket(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,And all the calculation in the getFlights response are right(| Digital | 2 adult; 2 child; 2,1 infant |)
1,0,When I do commit booking with card and MC-5555444433331111-737-8-2018-Testing card(| *LO | *PA | PublicApiMobile | card | GBP | MC-5555444433331111-737-8-2018-Testing card |)
1,0,And return confirmation(| Digital |)
1,0,| Digital | 2 |
1,0,Given I am using channel Digital(Scenario: All the validation rules passes successfully)
1,0,And I have added product to my basket(| Digital |)
1,0,Given a customer with valid data exists(Scenario: Search request can be sent using partial data)
1,0,And I request for indirect flights for that route from "ADAirport"(| ADAirport |)
1,0,Given I have valid customer profile(Scenario: Generate a temporary single use token BR_00845)
1,0,When I send the move seat product request(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I have 2 identity documents added to the saved passenger(| Digital | 2 |)
1,0,And the seat product is added to the basket(| Digital |)
1,0,And I will verify any associated products with the old purchased seat has been removed(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,Then I will return a list of active Discount reason codes to the channel(| Digital |)
1,0,And the seat map Currency should be correct(| Digital |)
1,0,When I sent a request to AddFlight with additional seat to "ADAirport"(| ADAirport |)
1,0,Scenario: Request returns all contact method options
1,0,Then I will generate a temporary Token(Scenario: Generate a temporary single use token BR_00845)
1,0,When I send a request to associate adult to infant on lap(| Digital | outbound | Standard | adult |)
1,0,And I am using the channel PublicApiMobile(Scenario: Airports that are marked as being active are returned)
1,0,And I receive a successful response from PSP and continue with commit booking process(| ALC | LTN | PublicApiB2B | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,Then I will receive a customer preferences update confirmation(| Digital | full |)
1,0,When I make a request to retrieve seating plan and priced inventory(| ADAirport | Flexi |)
1,0,When I send a request to associate adult to infant on lap(| ADCustomerService | outbound | Flexi | adult |)
1,0,When I do the commit booking as STANDARD_CUSTOMER with MultiplePaymentMethod for debit with 3 different payment debit-DM-5573471234567898-123-8-2018-Testing card;debit-DM-5573471234567898-123-8-2018-Testing card;debit-DL-4400000000000008-737-8-2018-Testing card(| Digital | STANDARD_CUSTOMER | debit | 3 | debit-DM-5573471234567898-123-8-2018-Testing card;debit-DM-5573471234567898-123-8-2018-Testing card;debit-DL-4400000000000008-737-8-2018-Testing card |)
1,0,And created date time is stored(| Digital | is |)
1,0,And I want to proceed with add purchased seat "STANDARD"(| Digital |)
1,0,And I am using the channel PublicApiB2B(Scenario: There are countries)
1,0,And the booking has details of allowed documents(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,And I create a Customer(Scenario: Happy path - add more than one SSR to customer)
1,0,When I add the maximum number of SSRs with "ADAirport"(Scenario: Happy path - add more than one SSR to customer)
1,0,Then I will return the updated values for the complete significant others(Scenario: updated information is returned when the profile is retrieved again)
1,0,When I call the getSectors service for the Digital(| Digital |)
1,0,Then I return confirmation on completion of removal of all identity documents of the saved passenger(| Digital | 2 |)
1,0,Then I will receive the successful response(| ADCustomerService | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,When I send a request do delete APIS information of the Customer in Customer profile with "Digital"(| Digital |)
1,0,Scenario: Generate a temporary single use token BR_00845
1,0,Then I will generate a make payment request to the payment service(| ALC | LTN | PublicApiB2B | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,Then I will add the extras cabin bag to the new passenger with Flexi on ADCustomerService(| ADCustomerService | outbound | Flexi | adult |)
1,0,Scenario: Airports that are marked as being active are returned
1,0,When I receive the update Dependants request(Scenario: Successful Update Dependent eJPlus request)
1,0,Then I should get the success response along with basket(| PublicApiB2B | seat |)
1,0,And I search for flight with following details via Digital(| Digital | outbound | Standard | adult |)
1,0,Then a booking reference is returned(| ADAirport | is |)
1,0,And I will see the number of changes still allowed(Scenario: updated information is returned when the profile is retrieved again)
1,0,| LTN | FAO | 100 |
1,0,Scenario: All the validation rules passes successfully for saved passenger
1,0,And the seat map Flight Key should be correct(| ADAirport |)
1,0,And I will get all the options available with fare(Scenario: Receive request to retrieve fare type description)
1,0,When I change the passenger age of "Infant" to "Adult" via "Digital"(| 1 Adult, 1 Infant OOS | Infant | Adult | Digital |)
1,0,And a valid request to associate staff member to member account(| Digital | full |)
1,0,Then the seat product is added to the basket(| Digital |)
1,0,And The sector passed in the request is a valid "LGWALC" sector(| ADCustomerService | LGWALC |)
1,0,Then all the bookings which are scheduled to travel on date are returned(| ADCustomerService | travelfromdate | 1 Adult |)
1,0,Given there are active languages(Scenario: Active languages are returned)
1,0,| ADCustomerService | travelfromdate | 1 Adult |
1,0,When I make a request for the flight schedules using only From-date(| PublicApiMobile |)
1,0,| PublicApiB2B |
1,0,Given am using Channel "Digital" for remove all identity documents of the saved passenger(| Digital | 2 |)
1,0,Given that I have added a flight "ALC" to "LTN" to the basket with currency GBP from ADCustomerService(| ALC | LTN | ADCustomerService | card | GBP | VI-4212345678901237-737-8-2018-Testing card |)
1,0,Then flight is returned with "1 Adult, 1 Infant OOS"(Scenario: Search for direct flights for infant on own seat)
1,0,Given The channel has initiated a getDiscountReason request using channel "Digital"(| Digital |)
1,0,Then the active languages are returned(Scenario: Active languages are returned)
1,0,| ADCustomerService |
1,0,Then the distance between the new departure airport and chosen departure airport is less than or equal to the maximum distance in kilomestres allowed "100"(| LTN | FAO | 100 |)
1,0,Given there are active currencies(Scenario: Active Currencies are returned)
1,0,When I call the getSectors service for the PublicApiMobile(| PublicApiMobile |)
1,0,When I receive an authenticated request to getSavedPassenger from the channel(Scenario: 1 - Retrieve Saved Passenger)
1,0,| PublicApiMobile | outbound | Flexi | adult |
1,0,Then I receive a confirmation response for the removeFlight()(| PublicApiMobile | 1 adult; 1 child; 2,1 infant | Standard | outbound/inbound | outbound | inbound |)
1,0,Given I am using the channel PublicApiB2B(Scenario: Public API B2B commit booking with a seat in the basket)
1,0,Scenario: Active Currencies are returned
1,0,And I login as agent with username as "rachel" and password as "12341234"(| ADAirport | PASSENGER | Test comment entered |)
1,0,And I want to associate adult to infant on lap(| PublicApiMobile | outbound | Flexi | adult |)
1,0,Given I am using channel Digital(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,When I search for the profile(Scenario: Profile exists and is returned)
1,0,When I send a valid request to add an API(Scenario: All the validation rules passes successfully)
1,0,| *LO | *PA | Digital | elv | EUR | tester-1234567890- -12345678- -Barclays |
1,0,When I call the get preference service(Scenario: Request returns all contact method options)
1,0,And I set the profile status to locked(Scenario: Generate a temporary single use token BR_00845)
1,0,And I will verify any associated products with the new purchased seat has been added with "1" product(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,And I updated the price of seat in my basket content for 1'st passenger(| PublicApiB2B | seat |)
1,0,And that indirect flights are configured for "LTN" to "BCN"(| ADAirport |)
1,0,And I am requesting to change a purchased seat for "1 Adult" from "STANDARD" to "EXTRA_LEGROOM" with fare type "Standard"(| Digital | Standard | STANDARD | EXTRA_LEGROOM | 1 | false |)
1,0,When I do the commit booking(| ADAirport | is |)
1,0,When I send a request to alternate airports with the parameter "LTN","FAO","100"(| LTN | FAO | 100 |)
1,0,Given am using channel Digital(Scenario: Successful Update Dependent eJPlus request)
1,0,And my basket contains flight with passengerMix "1 Adult" added via "Digital"(| Digital |)
1,0,When I call the getSectors service for the ADAirport(| ADAirport |)
1,0,Then I will generate a make payment request to the payment service(| *LO | *PA | PublicApiMobile | card | GBP | MC-5555444433331111-737-8-2018-Testing card |)
1,0,And I sent a request to SetAPI(| Digital |)
1,0,And booking has APIS details for each passenger(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,0,Then all the bookings which are scheduled to travel on date are returned(| ADAirport | travelfromdate, traveltodate | 1 Adult |)
1,0,| ADAirport | PASSENGER | Test comment entered |
1,0,When I receive a remove Flight request(| Digital | 4 adult, 2 child, 3 infant OOS, 1 infant OL |)
1,0,And I create a new valid customer(Scenario: eJ Plus Membership Number validation for non-Staff)
1,0,When I add it to the basket(| Digital | 2 adult; 2 child; 2,1 infant |)
1,0,When I add the flight to my basket for indirect routes(| ADAirport |)
1,0,When I search for the booking using "travelfromdate" of customer using channel "ADCustomerService"(| ADCustomerService | travelfromdate | 1 Adult |)
1,0,Then I will return all the active sectors to the channel(| ADAirport |)
1,0,Given that I have added a flight "*LO" to "*PA" to the basket with currency EUR from Digital(| *LO | *PA | Digital | elv | EUR | tester-1234567890- -12345678- -Barclays |)
1,0,And I will recalculate passenger totals, flight totals and basket totals(| ADAirport |)
1,0,When I provide basic passenger details(| 1 Adult, 1 Child |)
1,0,Then I will receive an SSR added confirmation message(Scenario: Happy path - add more than one SSR to customer)
1,0,And I have received a valid getCustomerProfile(Scenario: updated information is returned when the profile is retrieved again)
1,0,Then I could see the comments added(| ADAirport | PASSENGER | Test comment entered |)
1,0,Scenario: updated information is returned when the profile is retrieved again
1,0,And I receive a successful response from PSP and continue with commit booking process(| *LO | *PA | PublicApiMobile | card | GBP | MC-5555444433331111-737-8-2018-Testing card |)
1,0,| ADCustomerService | outbound | Flexi | adult |
1,0,Then the active currencies are returned(Scenario: Active Currencies are returned)
1,0,And that the "Digital" has initiated a request to getSavedPassenger with accessToken(Scenario: 1 - Retrieve Saved Passenger)
1,0,Then I will return the API details for that customer(Scenario: getAdvancePassengerInformation – Return saved APIS BR_00146 past X=16 months)
1,0,Scenario: There are countries
1,1,And that a customer has saved passenger information(Scenario: 1 - Retrieve Saved Passenger)
1,1,Given I have a basket with a valid flight with 1 adult added via Digital(| Digital | is |)
1,1,Then the basket is updated and fees calculated(| 1 Adult, 1 Infant OOS | Infant | Adult | Digital |)
1,1,Given my basket contains "1 Adult, 1 Child"(| 1 Adult, 1 Child |)
1,1,And I searched a 'Standard' flight with return for 2 adult; 1 child(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,1,And the booking has details of allowed functions(| Digital | 2 adult; 1 child | outbound/inbound | Standard | EXTRA_LEGROOM | Hold Bag,Large Sporting Equipment,Excess Weight |)
1,1,Given my basket contains a flight with "Flexi" fare added via the "ADAirport" channel(| ADAirport | Flexi |)
1,1,And passenger has the respective bundle code(| ADAirport | is |)
1,1,Then the basket is updated with the details(| 1 Adult, 1 Child |)
1,1,When I receive the request(| Digital |)
1,1,Given I have set values for Adult, Child and Infant(| 1 Adult, 1 Child |)
1,1,When I process the request for resetPassword(Scenario: Generate a temporary single use token BR_00845)
